# タイチョー Strategy 評価シート

タイチョー（実行隊長）は Strategy パターンで実装を差し替え可能。
各チーム（Strategy）を同じ基準で評価し、Issue の難易度に応じた最適な編成を探る。

## 評価指標

### 定量指標（自動計測可能）

| 指標 | 計測方法 | 単位 |
|------|---------|------|
| **PRマージ率** | マージされた Draft PR / 生成された Draft PR | % |
| **コスト** | `cost-tracker.ts` の `costUsd` | USD |
| **所要時間** | `durationMs` | 秒 |
| **リトライ回数** | `retryCount` | 回 |
| **トークン効率** | コスト / 変更行数 | USD/line |
| **ビルド通過率** | CI が通った PR / 全 PR | % |
| **テスト通過率** | テストが通った PR / 全 PR | % |

### 定性指標（人間レビュー）

| 指標 | 評価方法 | スケール |
|------|---------|---------|
| **手直し量** | マージ前に人間が追加したコミット数 | 少ない=良 |
| **レビュー指摘数** | PR レビューのコメント数 | 少ない=良 |
| **要件カバレッジ** | Issue のチェックリスト消化率 | % |
| **デグレ率** | マージ後に発生したバグ / マージ数 | % |
| **コード品質** | 不要な変更、冗長なコードの有無 | 主観 1-5 |

## 難易度分類

| レベル | 説明 | 例 |
|-------|------|-----|
| **S (Simple)** | 1ファイル、数行の変更 | typo修正、設定値変更、文言修正 |
| **M (Medium)** | 2-5ファイル、既存パターンに沿った追加 | 新コマンド追加、既存機能の拡張 |
| **L (Large)** | 5-10ファイル、新パターンの導入 | 新機能追加、リファクタリング |
| **XL (Extra Large)** | 10ファイル以上、アーキテクチャ変更 | 基盤刷新、大規模リファクタ |

## Strategy 一覧

### 1. `claude-cli` (チーム1号)

| 項目 | 内容 |
|------|------|
| **コンセプト** | Claude CLI (`claude -p`) を1ショットで呼び出すシンプル構成 |
| **実装** | `src/agents/taicho/strategies/claude-cli.ts` |
| **LLM** | Claude CLI (sonnet) |
| **ツール** | Bash, Read, Write, Edit, Glob, Grep |
| **実行環境** | ホストマシン直接（プロジェクトの localPath） |
| **予算制御** | `config.taicho.maxBudgetUsd` |
| **タイムアウト** | `config.taicho.timeoutMs` (デフォルト 30分) |
| **想定難易度** | S〜M |

**強み:**
- セットアップ不要、最もシンプル
- Claude CLI の全ツールが使える
- 既存パターンに沿った実装が得意

**弱み:**
- 1ショットなので複雑なタスクで迷走しやすい
- ホスト直接実行のためサンドボックスなし
- 長時間タスクでタイムアウトする可能性

### 評価ログ

| 日付 | Issue | 難易度 | 結果 | コスト | 時間 | リトライ | 手直し | メモ |
|------|-------|--------|------|--------|------|---------|--------|------|
| - | - | - | - | - | - | - | - | 評価開始前 |

---

*新しい Strategy を追加したら、このドキュメントにセクションを追記する。*
